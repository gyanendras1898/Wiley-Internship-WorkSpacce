package com.piyush.presentation;

import java.sql.SQLException;
import java.util.ArrayList;
import java.util.Scanner;

import com.piyush.bean.Employee;
import com.piyush.service.EmployeeService;
import com.piyush.service.EmployeeServiceImpl;

public class EmployeePresentationImpl implements EmployeePresentation {

	private EmployeeService employeeService=new EmployeeServiceImpl();
	
	@Override
	public void showMenu() {
		System.out.println("1. List All Employees");
		System.out.println("2. Search Employee");
		System.out.println("3. Add Employee");
		System.out.println("4. Delete Employee");
		System.out.println("5. Update Salary");
		System.out.println("6. Exit");

	}

	@Override
	public void performMenu(int choice) {
		try {
			Scanner sc=new Scanner(System.in);
			switch (choice) {
			case 1:
				ArrayList<Employee> employees=employeeService.getAllEmployees();
				for(Employee employee:employees) 
					System.out.println(employee);
				
			
				break;
			case 2:
				System.out.println("Enter Employee ID");
				int id=sc.nextInt();
				Employee employee=employeeService.searchEmployee(id);
				System.out.println(employee);
				break;
				
				
				
			case 5:
				System.out.println("Enter Employee ID");
				id=sc.nextInt();
				System.out.println("Enter new Salary");
				int salary=sc.nextInt();
				if(employeeService.updateSalary(id, salary))
					System.out.println("Successfully updated salary");
				break;
				
			
			
			
			case 6:
				System.out.println("Thanks for using Employee Management System");
				System.exit(0);
			default:
			break;
		}
	} catch (ClassNotFoundException | SQLException e) {
		e.printStackTrace();
	}

	}

}
